import{c as m,r as i,R as Q,j as e,a as q,U,B as ee,S as te,m as C}from"./index-Fy51RtrD.js";import{a as v}from"./apiClient-ctGS0Rxs.js";import{X as I,T as re,A as P}from"./index-DgcxHXGO.js";import"./env-Blzavzx5.js";/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=m("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=m("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=m("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=m("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=m("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=m("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=m("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=m("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),M={getAllUsers:async(t=100,a=0)=>(await v.get("/users",{params:{limit:t,offset:a}})).data.data,getUserById:async t=>(await v.get(`/users/${t}`)).data.data,createUser:async t=>(await v.post("/users",t)).data.data,updateUser:async(t,a)=>(await v.put(`/users/${t}`,a)).data.data,deleteUser:async t=>{await v.delete(`/users/${t}`)}};function V(t,a){if(typeof t=="function")return t(a);t!=null&&(t.current=a)}function ie(...t){return a=>{let n=!1;const d=t.map(s=>{const l=V(s,a);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let s=0;s<d.length;s++){const l=d[s];typeof l=="function"?l():V(t[s],null)}}}}var oe=Symbol.for("react.lazy"),E=Q[" use ".trim().toString()];function ce(t){return typeof t=="object"&&t!==null&&"then"in t}function W(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===oe&&"_payload"in t&&ce(t._payload)}function xe(t){const a=ge(t),n=i.forwardRef((d,s)=>{let{children:l,...c}=d;W(l)&&typeof E=="function"&&(l=E(l._payload));const x=i.Children.toArray(l),u=x.find(pe);if(u){const o=u.props.children,R=x.map(b=>b===u?i.Children.count(o)>1?i.Children.only(null):i.isValidElement(o)?o.props.children:null:b);return e.jsx(a,{...c,ref:s,children:i.isValidElement(o)?i.cloneElement(o,void 0,R):null})}return e.jsx(a,{...c,ref:s,children:l})});return n.displayName=`${t}.Slot`,n}var ue=xe("Slot");function ge(t){const a=i.forwardRef((n,d)=>{let{children:s,...l}=n;if(W(s)&&typeof E=="function"&&(s=E(s._payload)),i.isValidElement(s)){const c=ye(s),x=he(l,s.props);return s.type!==i.Fragment&&(x.ref=d?ie(d,c):c),i.cloneElement(s,x)}return i.Children.count(s)>1?i.Children.only(null):null});return a.displayName=`${t}.SlotClone`,a}var me=Symbol("radix.slottable");function pe(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===me}function he(t,a){const n={...a};for(const d in a){const s=t[d],l=a[d];/^on[A-Z]/.test(d)?s&&l?n[d]=(...x)=>{const u=l(...x);return s(...x),u}:s&&(n[d]=s):d==="style"?n[d]={...s,...l}:d==="className"&&(n[d]=[s,l].filter(Boolean).join(" "))}return{...t,...n}}function ye(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=a&&"isReactWarning"in a&&a.isReactWarning;return n?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=a&&"isReactWarning"in a&&a.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const f=i.forwardRef(({className:t,variant:a="default",size:n="default",asChild:d=!1,...s},l)=>{const c=d?ue:"button";return e.jsx(c,{className:q("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":a==="default","bg-destructive text-destructive-foreground hover:bg-destructive/90":a==="destructive","border border-input bg-background hover:bg-accent hover:text-accent-foreground":a==="outline","bg-secondary text-secondary-foreground hover:bg-secondary/80":a==="secondary","hover:bg-accent hover:text-accent-foreground":a==="ghost","text-primary underline-offset-4 hover:underline":a==="link","h-10 px-4 py-2":n==="default","h-9 rounded-md px-3":n==="sm","h-11 rounded-md px-8":n==="lg","h-10 w-10":n==="icon"},t),ref:l,...s})});f.displayName="Button";const fe={admin:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",student:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",tutor:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",parent:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},be={admin:te,student:ee,tutor:U,parent:U};function Ce(){const[t,a]=i.useState([]),[n,d]=i.useState(0),[s,l]=i.useState(!0),[c,x]=i.useState(null),[u,o]=i.useState(""),[R,b]=i.useState(!1),[z,_]=i.useState(!1),[D,A]=i.useState(!1),[p,k]=i.useState(null),[g,S]=i.useState({email:"",username:"",password:"",name:"",role:"student",syncToMoodle:!0}),[L,h]=i.useState(null),[T,y]=i.useState(!1),w=async()=>{try{l(!0),x(null);const r=await M.getAllUsers();a(r.users),d(r.total)}catch(r){console.error("Error fetching users:",r),x(r.response?.data?.error||"Failed to fetch users")}finally{l(!1)}};i.useEffect(()=>{w()},[]);const $=t.filter(r=>{const j=u.toLowerCase();return r.name.toLowerCase().includes(j)||r.email.toLowerCase().includes(j)||r.username.toLowerCase().includes(j)||r.role.toLowerCase().includes(j)}),Y=async()=>{try{if(h(null),y(!0),!g.email||!g.username||!g.password||!g.name){h("All fields are required"),y(!1);return}await M.createUser(g),await w(),b(!1),N()}catch(r){console.error("Error creating user:",r),h(r.response?.data?.error||"Failed to create user")}finally{y(!1)}},Z=async()=>{if(p)try{h(null),y(!0);const r={email:g.email,username:g.username,name:g.name,role:g.role};await M.updateUser(p.id,r),await w(),_(!1),N(),k(null)}catch(r){console.error("Error updating user:",r),h(r.response?.data?.error||"Failed to update user")}finally{y(!1)}},X=async()=>{if(p)try{y(!0),await M.deleteUser(p.id),await w(),A(!1),k(null)}catch(r){console.error("Error deleting user:",r),h(r.response?.data?.error||"Failed to delete user")}finally{y(!1)}},N=()=>{S({email:"",username:"",password:"",name:"",role:"student",syncToMoodle:!0}),h(null)},G=r=>{k(r),S({email:r.email,username:r.username,password:"",name:r.name,role:r.role,syncToMoodle:!1}),_(!0)},J=r=>{k(r),A(!0)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[e.jsx(U,{className:"w-8 h-8"}),"User Management"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage users, roles, and permissions. Users are synced with Moodle."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(f,{onClick:w,variant:"outline",className:"flex items-center gap-2",disabled:s,children:[e.jsx(F,{className:q("w-4 h-4",s&&"animate-spin")}),"Refresh"]}),e.jsxs(f,{onClick:()=>{N(),b(!0)},className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"Add User"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:t.filter(r=>r.is_active).length})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Moodle Synced"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.filter(r=>r.moodle_user_id).length})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Inactive Users"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:t.filter(r=>!r.is_active).length})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search users by name, email, username, or role...",value:u,onChange:r=>o(r.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),c&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(O,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),e.jsx("p",{className:"text-red-800 dark:text-red-200",children:c})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:s?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(F,{className:"w-8 h-8 animate-spin mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading users..."})]}):$.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(U,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u?"No users found matching your search":"No users found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Moodle"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:$.map(r=>{const j=be[r.role],K=fe[r.role];return e.jsxs(C.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-semibold",children:r.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.name}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[e.jsx(ae,{className:"w-3 h-3"}),r.email]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1 mt-1",children:[e.jsx(de,{className:"w-3 h-3"}),r.username]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:q("inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium",K),children:[e.jsx(j,{className:"w-3 h-3"}),r.role]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.moodle_user_id?e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsxs("span",{children:["ID: ",r.moodle_user_id]})]}):e.jsx("span",{className:"text-sm text-gray-400",children:"Not synced"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.is_active?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[e.jsx(B,{className:"w-3 h-3"}),"Active"]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:[e.jsx(I,{className:"w-3 h-3"}),"Inactive"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(r.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>G(r),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"Edit user",children:e.jsx(ne,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>J(r),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Delete user",children:e.jsx(re,{className:"w-4 h-4"})})]})})]},r.id)})})]})})}),e.jsx(P,{children:R&&e.jsx(H,{title:"Create New User",onClose:()=>{b(!1),N()},onSubmit:Y,submitting:T,formError:L,formData:g,setFormData:S,showPassword:!0,showMoodleSync:!0})}),e.jsx(P,{children:z&&p&&e.jsx(H,{title:"Edit User",onClose:()=>{_(!1),N(),k(null)},onSubmit:Z,submitting:T,formError:L,formData:g,setFormData:S,showPassword:!1,showMoodleSync:!1})}),e.jsx(P,{children:D&&p&&e.jsx(ke,{user:p,onClose:()=>{A(!1),k(null)},onConfirm:X,submitting:T,error:L})})]})}function H({title:t,onClose:a,onSubmit:n,submitting:d,formError:s,formData:l,setFormData:c,showPassword:x,showMoodleSync:u}){return e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:a,children:e.jsxs(C.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:o=>o.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(I,{className:"w-5 h-5"})})]}),s&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:s})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),e.jsx("input",{type:"text",value:l.name,onChange:o=>c({...l,name:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),e.jsx("input",{type:"email",value:l.email,onChange:o=>c({...l,email:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username *"}),e.jsx("input",{type:"text",value:l.username,onChange:o=>c({...l,username:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),x&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password *"}),e.jsx("input",{type:"password",value:l.password,onChange:o=>c({...l,password:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role *"}),e.jsxs("select",{value:l.role,onChange:o=>c({...l,role:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"student",children:"Student"}),e.jsx("option",{value:"tutor",children:"Tutor"}),e.jsx("option",{value:"parent",children:"Parent"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),u&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"syncToMoodle",checked:l.syncToMoodle,onChange:o=>c({...l,syncToMoodle:o.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"syncToMoodle",className:"text-sm text-gray-700 dark:text-gray-300",children:"Sync to Moodle"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6",children:[e.jsx(f,{onClick:a,variant:"outline",disabled:d,children:"Cancel"}),e.jsx(f,{onClick:n,disabled:d,children:d?"Saving...":"Save"})]})]})})}function ke({user:t,onClose:a,onConfirm:n,submitting:d,error:s}){return e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:a,children:e.jsxs(C.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:l=>l.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Delete User"}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(I,{className:"w-5 h-5"})})]}),s&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:s})]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["Are you sure you want to delete ",e.jsx("strong",{children:t.name})," (",t.email,")? This action will deactivate the user and remove them from Moodle if synced."]}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx(f,{onClick:a,variant:"outline",disabled:d,children:"Cancel"}),e.jsx(f,{onClick:n,variant:"destructive",disabled:d,children:d?"Deleting...":"Delete"})]})]})})}export{Ce as default};
